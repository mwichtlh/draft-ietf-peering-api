<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Peering API</title>
<meta content="Jenny Ramseyer" name="author">
<meta content="
       We propose an API standard for BGP Peering, also known as interdomain interconnection through global Internet Routing.
This API offers a standard way to request public (settlement-free) peering, verify the status of a request or BGP session, and list potential connection locations.
The API is backed by PeeringDB OIDC, the industry standard for peering authentication.
We also propose future work to cover private peering, and alternative authentication methods. 
    " name="description">
<meta content="xml2rfc 3.19.1" name="generator">
<meta content="BGP" name="keyword">
<meta content="peering" name="keyword">
<meta content="configuration" name="keyword">
<meta content="draft-ramseyer-grow-peering-api-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.19.1
    Python 3.11.6
    ConfigArgParse 1.7
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.3
    platformdirs 4.1.0
    pycountry 22.3.5
    PyYAML 6.0.1
    requests 2.31.0
    setuptools 68.2.2
    six 1.16.0
    wcwidth 0.2.13
-->
<link href="draft-ramseyer-grow-peering-api.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Peering API</td>
<td class="right">January 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Ramseyer</td>
<td class="center">Expires 21 July 2024</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ramseyer-grow-peering-api-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2024-01-18" class="published">18 January 2024</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2024-07-21">21 July 2024</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Ramseyer</div>
<div class="org">Meta</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Peering API</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">We propose an API standard for BGP Peering, also known as interdomain interconnection through global Internet Routing.
This API offers a standard way to request public (settlement-free) peering, verify the status of a request or BGP session, and list potential connection locations.
The API is backed by PeeringDB OIDC, the industry standard for peering authentication.
We also propose future work to cover private peering, and alternative authentication methods.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://bgp.github.io/draft-ietf-peering-api/draft-peering-api-ramseyer-protocol.html">https://bgp.github.io/draft-ietf-peering-api/draft-peering-api-ramseyer-protocol.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ramseyer-grow-peering-api/">https://datatracker.ietf.org/doc/draft-ramseyer-grow-peering-api/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/bgp/draft-ietf-peering-api">https://github.com/bgp/draft-ietf-peering-api</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 21 July 2024.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-conventions-and-definitions" class="internal xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-protocol" class="internal xref">Protocol</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-example-request-flow" class="internal xref">Example Request Flow</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-auth" class="internal xref">AUTH</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-request" class="internal xref">REQUEST</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-client-configuration" class="internal xref">CLIENT CONFIGURATION</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-server-configuration" class="internal xref">SERVER CONFIGURATION</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-monitoring" class="internal xref">MONITORING</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-completion" class="internal xref">COMPLETION</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-api-endpoints-and-specifica" class="internal xref">API Endpoints and Specifications</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-data-types" class="internal xref">DATA TYPES</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-endpoints" class="internal xref">Endpoints:</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="auto internal xref">6.2.1</a>.  <a href="#name-public-peering-over-an-inte" class="internal xref">Public Peering over an Internet Exchange (IX):</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="auto internal xref">6.2.2</a>.  <a href="#name-utility-api-calls" class="internal xref">UTILITY API CALLS</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="auto internal xref">6.2.3</a>.  <a href="#name-private-peering-draft" class="internal xref">Private Peering (DRAFT)</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-public-peering-session-nego" class="internal xref">Public Peering Session Negotiation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-private-peering" class="internal xref">Private Peering</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-maintenance" class="internal xref">Maintenance</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-possible-extensions" class="internal xref">Possible Extensions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Peering API is a mechanism that allows networks to automate interdomain interconnection  between two Autonomous Systems (AS) through the Border Gateway Protocol 4 (BGP-4) (<a href="https://datatracker.ietf.org/doc/html/rfc4271">RFC4271</a>).
Using the API, networks will be able to automatically request and accept peering interconnections between Autonomous Systems in public or private scenarios in a time faster than it would take to configure sessions manually.
By speeding up the peering turn-up process and removing the need for manual involvement in peering, the API and automation will ensure that networks can get interconnected as fast, reliably, cost-effectively, and efficiently as possible.
As a result, this improves end-user performance for all applications using networks interconnection supporting the Peering API.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Business Justification:<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">By using the Peering API, entities requesting and accepting peering can significantly improve the process to turn up interconnections by:<a href="#section-1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-4.1">
          <p id="section-1-4.1.1">Reducing in person-hours spent configuring peering<a href="#section-1-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-4.2">
          <p id="section-1-4.2.1">Reducing configuration mistakes by reducing human interaction<a href="#section-1-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-4.3">
          <p id="section-1-4.3.1">And by peering, reducing network latency through expansion of interconnection relationships<a href="#section-1-4.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">All terms used in this document will be defined here:<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">
          <p id="section-2-2.1.1">Initiator: Network that wants to peer<a href="#section-2-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.2">
          <p id="section-2-2.2.1">Receiver: Network that is receiving communications about peering<a href="#section-2-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.3">
          <p id="section-2-2.3.1">Configured: peering session that is set up on one side<a href="#section-2-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-2-2.4">
          <p id="section-2-2.4.1">Established: session is already defined as per BGP-4 specification (<a href="https://datatracker.ietf.org/doc/html/rfc4271#page-71">page 71</a>)<a href="#section-2-2.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="security-considerations">
<section id="section-3">
      <h2 id="name-security-considerations">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-3-1">As peering connections exchange real Internet traffic, this API requires a security component to verify that the requestor is allowed to request peering on behalf of that AS.
In this initial proposal, the API requires PeeringDB-based OAuth 2.0 (<a href="https://datatracker.ietf.org/doc/html/rfc6749">RFC6749</a>) authentication as the standard.
After further discussion, the authors decided to offer alternate authentication options to accommodate the security concerns of different parties.
As peers may require varying security standards, this API will support PeeringDB OpenID Connect (OIDC) as the base requirement, with optional security extensions in addition (RPKI (<a href="https://datatracker.ietf.org/doc/html/rfc6480">RFC6480</a>) or alternate OIDCs, for example)
This document hopes that, through the RFC process, the Working Group can come to a consensus on a base "authentication standard," to ease adoption for peering partners.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Of particular interest is RPKI.
PeeringDB OIDC allows the API to verify who the requesting party is, while RPKI-signing allows the requesting party to prove that they can configure a request.
The combination of both authorizations provides a strong security guarantee.
This document recognizes that not all partners have the time or engineering resources to support all authorization standards, so the API will offer an extensible security platform to meet varying security requirements.
For RPKI-based authentication, this document refers to RPKI Signed Checklists (RSCs) (<a href="https://datatracker.ietf.org/doc/html/rfc9323">RFC9323</a>).<a href="#section-3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="protocol">
<section id="section-4">
      <h2 id="name-protocol">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-protocol" class="section-name selfRef">Protocol</a>
      </h2>
<p id="section-4-1">The Peering API follows the RESTful API mode.
After authentication, a client can request to add or remove peering connections, list potential interconnection locations, and query for upcoming maintenance events.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-request-flow">
<section id="section-5">
      <h2 id="name-example-request-flow">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-example-request-flow" class="section-name selfRef">Example Request Flow</a>
      </h2>
<p id="section-5-1">For a diagram, please see: https://github.com/bgp/autopeer/blob/main/README.md#sequence-diagram<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="auth">
<section id="section-5.1">
        <h3 id="name-auth">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-auth" class="section-name selfRef">AUTH</a>
        </h3>
<p id="section-5.1-1">First, the client makes an authenticated request to the server.
In this example, the client will use PeeringDB OAuth 2.0.
Authentication provides the server with the client's email (for potential manual discussion), along with the client's entitlements, to confirm the client is permitted to request on behalf of the proposed AS.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="request">
<section id="section-5.2">
        <h3 id="name-request">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-request" class="section-name selfRef">REQUEST</a>
        </h3>
<ol start="1" type="1" class="normal type-1" id="section-5.2-1">
<li id="section-5.2-1.1">
            <p id="section-5.2-1.1.1">ADD SESSION (CLIENT REQUEST)<a href="#section-5.2-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<ul class="normal">
<li class="normal" id="section-5.2-2.1">
            <p id="section-5.2-2.1.1">Client provides:<a href="#section-5.2-2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.1.2.1">
                <p id="section-5.2-2.1.2.1.1">Dictionary (multiple):<a href="#section-5.2-2.1.2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.2-2.1.2.1.2">
<li id="section-5.2-2.1.2.1.2.1">
                    <p id="section-5.2-2.1.2.1.2.1.1">Local ASN (server)<a href="#section-5.2-2.1.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.2">
                    <p id="section-5.2-2.1.2.1.2.2.1">Local IP<a href="#section-5.2-2.1.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.3">
                    <p id="section-5.2-2.1.2.1.2.3.1">Peer ASN (client)<a href="#section-5.2-2.1.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.4">
                    <p id="section-5.2-2.1.2.1.2.4.1">Peer IP<a href="#section-5.2-2.1.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.5">
                    <p id="section-5.2-2.1.2.1.2.5.1">Peer Type (public or private)<a href="#section-5.2-2.1.2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.6">
                    <p id="section-5.2-2.1.2.1.2.6.1">MD5 (optional)<a href="#section-5.2-2.1.2.1.2.6.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.7">
                    <p id="section-5.2-2.1.2.1.2.7.1">IXP ID (PeeringDB Identifier)<a href="#section-5.2-2.1.2.1.2.7.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.8">
                    <p id="section-5.2-2.1.2.1.2.8.1">Status
  9: UUID<a href="#section-5.2-2.1.2.1.2.8.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.9">
                    <p id="section-5.2-2.1.2.1.2.9.1">Sent prefixes (0 if not Established) (optional)<a href="#section-5.2-2.1.2.1.2.9.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.10">
                    <p id="section-5.2-2.1.2.1.2.10.1">Received prefixes (0 if not Established) (optional)<a href="#section-5.2-2.1.2.1.2.10.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-2.1.2.1.2.11">
                    <p id="section-5.2-2.1.2.1.2.11.1">Accepted Prefixes (optional)<a href="#section-5.2-2.1.2.1.2.11.1" class="pilcrow">¶</a></p>
</li>
                </ol>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.2-2.2">
            <p id="section-5.2-2.2.1">Server actions:<a href="#section-5.2-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.2.2.1">
                <p id="section-5.2-2.2.2.1.1">Server confirms requested clientASN in list of authorized ASNs.<a href="#section-5.2-2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.2-2.2.2.2">
                <p id="section-5.2-2.2.2.2.1">Optional: checks traffic levels, prefix limit counters, other desired internal checks.<a href="#section-5.2-2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
<ol start="1" type="1" class="normal type-1" id="section-5.2-3">
<li id="section-5.2-3.1">
            <p id="section-5.2-3.1.1">ADD SESSION (SERVER RESPONSE)<a href="#section-5.2-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ol>
<ul class="normal">
<li class="normal" id="section-5.2-4.1">
            <p id="section-5.2-4.1.1">APPROVAL CASE<a href="#section-5.2-4.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-4.1.2.1">
                <p id="section-5.2-4.1.2.1.1">Server returns dictionary of acceptable peering sessions.  Note: this dictionary may also contain additional sessions on which to peer.  See "Public Peering Session Negotiation" for details.<a href="#section-5.2-4.1.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.2-4.2">
            <p id="section-5.2-4.2.1">REJECTION CASE<a href="#section-5.2-4.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-4.2.2.1">
                <p id="section-5.2-4.2.2.1.1">Server returns dictionary of acceptable and rejected sessions.<a href="#section-5.2-4.2.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.2-4.3">
            <p id="section-5.2-4.3.1">Optional information:<a href="#section-5.2-4.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-4.3.2.1">
                <p id="section-5.2-4.3.2.1.1">The server may also include the following details:<a href="#section-5.2-4.3.2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.2-4.3.2.1.2">
<li id="section-5.2-4.3.2.1.2.1">
                    <p id="section-5.2-4.3.2.1.2.1.1">Prefix limit counters (optional value)<a href="#section-5.2-4.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-4.3.2.1.2.2">
                    <p id="section-5.2-4.3.2.1.2.2.1">TimeWindow: Time window indicating when sessions will be configured after being notified (may be 0 if sessions are already configured on receiver side)<a href="#section-5.2-4.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-4.3.2.1.2.3">
                    <p id="section-5.2-4.3.2.1.2.3.1">isInboundFiltered: optional bool that indicates whether prefixes will be filtered inbound.  If this is set to true, the time window should be set for how long the prefixes will be filtered.<a href="#section-5.2-4.3.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li id="section-5.2-4.3.2.1.2.4">
                    <p id="section-5.2-4.3.2.1.2.4.1">isOutboundFiltered: optional bool that indicates whether prefixes will be filtered outbound.  If this is set to true, the time window should be set for how long the prefixes will be filtered.  If the outbound limit is longer than the inbound limit time, the time window should be set to the max of inbound versus outbound.<a href="#section-5.2-4.3.2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
                </ol>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
<div id="client-configuration">
<section id="section-5.3">
        <h3 id="name-client-configuration">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-client-configuration" class="section-name selfRef">CLIENT CONFIGURATION</a>
        </h3>
<p id="section-5.3-1">The client then configures the chosen peering sessions.
If the server added additional approved peering sessions, the client may choose whether or not to configure those sessions.
For every session that the server rejected, the client removes that session from the list to be configured.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="server-configuration">
<section id="section-5.4">
        <h3 id="name-server-configuration">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-server-configuration" class="section-name selfRef">SERVER CONFIGURATION</a>
        </h3>
<p id="section-5.4-1">The server configures all sessions that are in its list of approved peering sessions from its reply to the client.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="monitoring">
<section id="section-5.5">
        <h3 id="name-monitoring">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-monitoring" class="section-name selfRef">MONITORING</a>
        </h3>
<p id="section-5.5-1">Both client and server wait for sessions to establish.
At any point, client may send a "GET STATUS" request to the server, to request the status of the original request (by UUID) or of a session (by session UUID).
The client will send a dictionary along with the request, as follows:<a href="#section-5.5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-2.1">
            <p id="section-5.5-2.1.1">Dictionary:<a href="#section-5.5-2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-2.1.2.1">
                <p id="section-5.5-2.1.2.1.1">Local ASN (server)<a href="#section-5.5-2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.2">
                <p id="section-5.5-2.1.2.2.1">Local IP<a href="#section-5.5-2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.3">
                <p id="section-5.5-2.1.2.3.1">Peer ASN (client)<a href="#section-5.5-2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.4">
                <p id="section-5.5-2.1.2.4.1">Peer IP<a href="#section-5.5-2.1.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.5">
                <p id="section-5.5-2.1.2.5.1">Peer Type<a href="#section-5.5-2.1.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.6">
                <p id="section-5.5-2.1.2.6.1">MD5 (optional)<a href="#section-5.5-2.1.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.7">
                <p id="section-5.5-2.1.2.7.1">IXP ID<a href="#section-5.5-2.1.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.8">
                <p id="section-5.5-2.1.2.8.1">Status<a href="#section-5.5-2.1.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.9">
                <p id="section-5.5-2.1.2.9.1">UUID<a href="#section-5.5-2.1.2.9.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.10">
                <p id="section-5.5-2.1.2.10.1">Sent prefixes (0 if not Established) (optional)<a href="#section-5.5-2.1.2.10.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.11">
                <p id="section-5.5-2.1.2.11.1">Received prefixes (0 if not Established) (optional)<a href="#section-5.5-2.1.2.11.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.5-2.1.2.12">
                <p id="section-5.5-2.1.2.12.1">Accepted Prefixes (optional)<a href="#section-5.5-2.1.2.12.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
<p id="section-5.5-3">The server then responds with the same dictionary, with the information that it understands (status, etc).<a href="#section-5.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="completion">
<section id="section-5.6">
        <h3 id="name-completion">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-completion" class="section-name selfRef">COMPLETION</a>
        </h3>
<p id="section-5.6-1">If both sides report that the session is established, then peering is complete.
If one side does not configure sessions within the server's acceptable configuration window (TimeWindow), then the server is entitled to remove the configured sessions and report "Unestablished" to the client.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="api-endpoints-and-specifications">
<section id="section-6">
      <h2 id="name-api-endpoints-and-specifica">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-api-endpoints-and-specifica" class="section-name selfRef">API Endpoints and Specifications</a>
      </h2>
<p id="section-6-1">Each peer needs a public API endpoint that will implement the API protocol.
This API should be publicly listed in peeringDB and also as a potential expansion of <a href="https://datatracker.ietf.org/doc/html/rfc9092">RFC9092</a> which could provide endpoint integration to WHOIS (<a href="https://datatracker.ietf.org/doc/html/rfc3912">RFC3912</a>).
Each API endpoint should be fuzz-tested and protected against abuse.  Attackers should not be able to access internal systems using the API.
Every single request should come in with a unique GUID called RequestID that maps to a peering request for later reference.  This GUID format should be standardized across all requests.  This GUID should be provided by the receiver once it receives the request and must be embedded in all communication.  If there is no RequestID present then that should be interpreted as a new request and the process starts again.
An email address is needed for communication if the API fails or is not implemented properly (can be obtained through PeeringDB).<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">For a programmatic specification of the API, please see the public Github here: <a href="https://github.com/bgp/autopeer/blob/main/api/openapi.yaml">https://github.com/bgp/autopeer/blob/main/api/openapi.yaml</a><a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">This initial draft fully specifies the Public Peering endpoints.  Private Peering and Maintenance are under discussion, and the authors invite collaboration and discussion from interested parties.<a href="#section-6-3" class="pilcrow">¶</a></p>
<div id="data-types">
<section id="section-6.1">
        <h3 id="name-data-types">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-data-types" class="section-name selfRef">DATA TYPES</a>
        </h3>
<p id="section-6.1-1">As defined in <a href="https://github.com/bgp/autopeer/blob/main/api/openapi.yaml">https://github.com/bgp/autopeer/blob/main/api/openapi.yaml</a>.
Please see specification for OpenAPI format.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Peering Location<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">Contains string field listing the desired peering location in format <code>pdb:ix:$IX_ID</code>, and an enum specifying peering type (public or private).<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">Session Status<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5">Status of BGP Session, both as connection status and approval status (Established, Pending, Approved, Rejected, Down, Unestablished, etc)<a href="#section-6.1-5" class="pilcrow">¶</a></p>
<p id="section-6.1-6">Session Array<a href="#section-6.1-6" class="pilcrow">¶</a></p>
<p id="section-6.1-7">Array of potential BGP sessions, with request UUID.
 Request UUID is optional for client, and required for server.
 Client may provide initial UUID for client-side tracking, but the server UUID will be the final definitive ID.  RequestID will not change across the request.<a href="#section-6.1-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-8.1">
            <p id="section-6.1-8.1.1">BGP Session<a href="#section-6.1-8.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-8.1.2.1">
                <p id="section-6.1-8.1.2.1.1">local_asn (ASN of requestor)<a href="#section-6.1-8.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.2">
                <p id="section-6.1-8.1.2.2.1">local_ip (IP of requestor, v4 or v6)<a href="#section-6.1-8.1.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.3">
                <p id="section-6.1-8.1.2.3.1">peer_asn (server ASN)<a href="#section-6.1-8.1.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.4">
                <p id="section-6.1-8.1.2.4.1">peer_ip (server-side IP)<a href="#section-6.1-8.1.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.5">
                <p id="section-6.1-8.1.2.5.1">peer_type (public or private)<a href="#section-6.1-8.1.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.6">
                <p id="section-6.1-8.1.2.6.1">md5 (optional string)<a href="#section-6.1-8.1.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.7">
                <p id="section-6.1-8.1.2.7.1">location (Peering Location, as defined above)<a href="#section-6.1-8.1.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.8">
                <p id="section-6.1-8.1.2.8.1">status (Session Status, as defined above)<a href="#section-6.1-8.1.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-8.1.2.9">
                <p id="section-6.1-8.1.2.9.1">UUID (of individual session.  Server must provide UUID.  Client may provide initial UUID for client-side tracking, but the server UUID will be the final definitive ID)<a href="#section-6.1-8.1.2.9.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
<p id="section-6.1-9">Error<a href="#section-6.1-9" class="pilcrow">¶</a></p>
<p id="section-6.1-10">API Errors, for field validation errors in requests, and request-level errors.<a href="#section-6.1-10" class="pilcrow">¶</a></p>
<p id="section-6.1-11">The above is sourced largely from the linked OpenAPI specification.<a href="#section-6.1-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="endpoints">
<section id="section-6.2">
        <h3 id="name-endpoints">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-endpoints" class="section-name selfRef">Endpoints:</a>
        </h3>
<p id="section-6.2-1">(As defined in <a href="https://github.com/bgp/autopeer/blob/main/api/openapi.yaml">https://github.com/bgp/autopeer/blob/main/api/openapi.yaml</a>)
On each call, there should be rate limits, allowed senders, and other optional restrictions.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div id="public-peering-over-an-internet-exchange-ix">
<section id="section-6.2.1">
          <h4 id="name-public-peering-over-an-inte">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-public-peering-over-an-inte" class="section-name selfRef">Public Peering over an Internet Exchange (IX):</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1">
              <p id="section-6.2.1-1.1.1">/add_sessions: ADD/AUGMENT IX PEER<a href="#section-6.2.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1.2.1">
                  <p id="section-6.2.1-1.1.2.1.1">Establish new BGP sessions between peers, at the desired exchange.<a href="#section-6.2.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.1-1.1.2.2">
                  <p id="section-6.2.1-1.1.2.2.1">Below is based on OpenAPI specification: <a href="https://github.com/bgp/autopeer/blob/main/api/openapi.yaml">https://github.com/bgp/autopeer/blob/main/api/openapi.yaml</a><a href="#section-6.2.1-1.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.1-1.1.2.3">
                  <p id="section-6.2.1-1.1.2.3.1">POST: /add_sessions<a href="#section-6.2.1-1.1.2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1.2.3.2.1">
                      <p id="section-6.2.1-1.1.2.3.2.1.1">Request body: Session Array<a href="#section-6.2.1-1.1.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                    <li class="normal" id="section-6.2.1-1.1.2.3.2.2">
                      <p id="section-6.2.1-1.1.2.3.2.2.1">Responses:<a href="#section-6.2.1-1.1.2.3.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1.2.3.2.2.2.1">
                          <p id="section-6.2.1-1.1.2.3.2.2.2.1.1">200 OK:<a href="#section-6.2.1-1.1.2.3.2.2.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1.2.3.2.2.2.1.2.1">
                              <p id="section-6.2.1-1.1.2.3.2.2.2.1.2.1.1">Contents: Session Array (all sessions in request accepted for configuration).<a href="#section-6.2.1-1.1.2.3.2.2.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                        <li class="normal" id="section-6.2.1-1.1.2.3.2.2.2.2">
                          <p id="section-6.2.1-1.1.2.3.2.2.2.2.1">300:<a href="#section-6.2.1-1.1.2.3.2.2.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1.2.3.2.2.2.2.2.1">
                              <p id="section-6.2.1-1.1.2.3.2.2.2.2.2.1.1">Contents: Modified Session Array, with rejected or additional sessions.<a href="#section-6.2.1-1.1.2.3.2.2.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                        <li class="normal" id="section-6.2.1-1.1.2.3.2.2.2.3">
                          <p id="section-6.2.1-1.1.2.3.2.2.2.3.1">400:<a href="#section-6.2.1-1.1.2.3.2.2.2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.1.2.3.2.2.2.3.2.1">
                              <p id="section-6.2.1-1.1.2.3.2.2.2.3.2.1.1">Error<a href="#section-6.2.1-1.1.2.3.2.2.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                      </ul>
</li>
                  </ul>
</li>
              </ul>
</li>
            <li class="normal" id="section-6.2.1-1.2">
              <p id="section-6.2.1-1.2.1">REMOVE IX PEER<a href="#section-6.2.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.1-1.2.2.1">
                  <p id="section-6.2.1-1.2.2.1.1">Given a list of Session Arrays, remove the sessions in that list.<a href="#section-6.2.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.1-1.2.2.2">
                  <p id="section-6.2.1-1.2.2.2.1">This API serves as a notification to the server, as the client may remove the sessions before sending the request to the server.<a href="#section-6.2.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.1-1.2.2.3">
                  <p id="section-6.2.1-1.2.2.3.1">Server replies back with request ID and deletion status (complete, in-progress).<a href="#section-6.2.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="utility-api-calls">
<section id="section-6.2.2">
          <h4 id="name-utility-api-calls">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-utility-api-calls" class="section-name selfRef">UTILITY API CALLS</a>
          </h4>
<p id="section-6.2.2-1">Endpoints which provide useful information for potential interconnections.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1">
              <p id="section-6.2.2-2.1.1">/list_locations: LIST POTENTIAL PEERING LOCATIONS<a href="#section-6.2.2-2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1.2.1">
                  <p id="section-6.2.2-2.1.2.1.1">List potential peering locations, both public and private.<a href="#section-6.2.2-2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.2-2.1.2.2">
                  <p id="section-6.2.2-2.1.2.2.1">Below is based on OpenAPI specification: https://github.com/bgp/autopeer/blob/main/api/openapi.yaml<a href="#section-6.2.2-2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.2-2.1.2.3">
                  <p id="section-6.2.2-2.1.2.3.1">GET: /list_locations<a href="#section-6.2.2-2.1.2.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1.2.3.2.1">
                      <p id="section-6.2.2-2.1.2.3.2.1.1">Request parameters:<a href="#section-6.2.2-2.1.2.3.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1.2.3.2.1.2.1">
                          <p id="section-6.2.2-2.1.2.3.2.1.2.1.1">asn (Server ASN, with which to list potential connections)<a href="#section-6.2.2-2.1.2.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                        <li class="normal" id="section-6.2.2-2.1.2.3.2.1.2.2">
                          <p id="section-6.2.2-2.1.2.3.2.1.2.2.1">location_type (Optional: Peering Location)<a href="#section-6.2.2-2.1.2.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                      </ul>
</li>
                    <li class="normal" id="section-6.2.2-2.1.2.3.2.2">
                      <p id="section-6.2.2-2.1.2.3.2.2.1">Response:<a href="#section-6.2.2-2.1.2.3.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1.2.3.2.2.2.1">
                          <p id="section-6.2.2-2.1.2.3.2.2.2.1.1">200: OK<a href="#section-6.2.2-2.1.2.3.2.2.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1.2.3.2.2.2.1.2.1">
                              <p id="section-6.2.2-2.1.2.3.2.2.2.1.2.1.1">Contents: List of Peering Locations.<a href="#section-6.2.2-2.1.2.3.2.2.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                        <li class="normal" id="section-6.2.2-2.1.2.3.2.2.2.2">
                          <p id="section-6.2.2-2.1.2.3.2.2.2.2.1">400:<a href="#section-6.2.2-2.1.2.3.2.2.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.1.2.3.2.2.2.2.2.1">
                              <p id="section-6.2.2-2.1.2.3.2.2.2.2.2.1.1">Error<a href="#section-6.2.2-2.1.2.3.2.2.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                      </ul>
</li>
                  </ul>
</li>
              </ul>
</li>
            <li class="normal" id="section-6.2.2-2.2">
              <p id="section-6.2.2-2.2.1">/get_status: QUERY FOR REQUEST STATUS<a href="#section-6.2.2-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.2.2.1">
                  <p id="section-6.2.2-2.2.2.1.1">Given a request ID, query for the status of that request.<a href="#section-6.2.2-2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.2-2.2.2.2">
                  <p id="section-6.2.2-2.2.2.2.1">Given an ASN without request ID, query for status of all connections between client and server.<a href="#section-6.2.2-2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.2-2.2.2.3">
                  <p id="section-6.2.2-2.2.2.3.1">Below is based on OpenAPI specification: <a href="https://github.com/bgp/autopeer/blob/main/api/openapi.yaml">https://github.com/bgp/autopeer/blob/main/api/openapi.yaml</a><a href="#section-6.2.2-2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.2-2.2.2.4">
                  <p id="section-6.2.2-2.2.2.4.1">GET: /get_status<a href="#section-6.2.2-2.2.2.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.2.2.4.2.1">
                      <p id="section-6.2.2-2.2.2.4.2.1.1">Request parameters:<a href="#section-6.2.2-2.2.2.4.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.2.2.4.2.1.2.1">
                          <p id="section-6.2.2-2.2.2.4.2.1.2.1.1">asn (requesting client's asn)<a href="#section-6.2.2-2.2.2.4.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                        <li class="normal" id="section-6.2.2-2.2.2.4.2.1.2.2">
                          <p id="section-6.2.2-2.2.2.4.2.1.2.2.1">request_id (optional, UUID of request)<a href="#section-6.2.2-2.2.2.4.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                      </ul>
</li>
                    <li class="normal" id="section-6.2.2-2.2.2.4.2.2">
                      <p id="section-6.2.2-2.2.2.4.2.2.1">Response:<a href="#section-6.2.2-2.2.2.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.2.2.4.2.2.2.1">
                          <p id="section-6.2.2-2.2.2.4.2.2.2.1.1">200: OK<a href="#section-6.2.2-2.2.2.4.2.2.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.2.2.4.2.2.2.1.2.1">
                              <p id="section-6.2.2-2.2.2.4.2.2.2.1.2.1.1">Contents: Session Array of sessions in request_id, if provided.  Else, all existing and in-progress sessions between client ASN and server.<a href="#section-6.2.2-2.2.2.4.2.2.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                        <li class="normal" id="section-6.2.2-2.2.2.4.2.2.2.2">
                          <p id="section-6.2.2-2.2.2.4.2.2.2.2.1">400:<a href="#section-6.2.2-2.2.2.4.2.2.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.2-2.2.2.4.2.2.2.2.2.1">
                              <p id="section-6.2.2-2.2.2.4.2.2.2.2.2.1.1">Error (example: request_id is invalid)<a href="#section-6.2.2-2.2.2.4.2.2.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                          </ul>
</li>
                      </ul>
</li>
                  </ul>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="private-peering-draft">
<section id="section-6.2.3">
          <h4 id="name-private-peering-draft">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-private-peering-draft" class="section-name selfRef">Private Peering (DRAFT)</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.1">
              <p id="section-6.2.3-1.1.1">ADD/AUGMENT PNI<a href="#section-6.2.3-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.2.3-1.2">
              <p id="section-6.2.3-1.2.1">Parameters:<a href="#section-6.2.3-1.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.2.2.1">
                  <p id="section-6.2.3-1.2.2.1.1">Peer ASN<a href="#section-6.2.3-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.3-1.2.2.2">
                  <p id="section-6.2.3-1.2.2.2.1">Facility<a href="#section-6.2.3-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.3-1.2.2.3">
                  <p id="section-6.2.3-1.2.2.3.1">email address (contact)<a href="#section-6.2.3-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.3-1.2.2.4">
                  <p id="section-6.2.3-1.2.2.4.1">Action type: add/augment<a href="#section-6.2.3-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-6.2.3-1.2.2.5">
                  <p id="section-6.2.3-1.2.2.5.1">LAG struct:<a href="#section-6.2.3-1.2.2.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.2.2.5.2.1">
                      <p id="section-6.2.3-1.2.2.5.2.1.1">IPv4<a href="#section-6.2.3-1.2.2.5.2.1.1" class="pilcrow">¶</a></p>
</li>
                    <li class="normal" id="section-6.2.3-1.2.2.5.2.2">
                      <p id="section-6.2.3-1.2.2.5.2.2.1">IPv6<a href="#section-6.2.3-1.2.2.5.2.2.1" class="pilcrow">¶</a></p>
</li>
                    <li class="normal" id="section-6.2.3-1.2.2.5.2.3">
                      <p id="section-6.2.3-1.2.2.5.2.3.1">Circuit ID<a href="#section-6.2.3-1.2.2.5.2.3.1" class="pilcrow">¶</a></p>
</li>
                  </ul>
</li>
                <li class="normal" id="section-6.2.3-1.2.2.6">
                  <p id="section-6.2.3-1.2.2.6.1">Who provides LOA?  (and where to provide it).<a href="#section-6.2.3-1.2.2.6.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-6.2.3-1.3">
              <p id="section-6.2.3-1.3.1">Response:<a href="#section-6.2.3-1.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.3.2.1">
                  <p id="section-6.2.3-1.3.2.1.1">200:<a href="#section-6.2.3-1.3.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.3.2.1.2.1">
                      <p id="section-6.2.3-1.3.2.1.2.1.1">LAG struct, with server data populated<a href="#section-6.2.3-1.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                    <li class="normal" id="section-6.2.3-1.3.2.1.2.2">
                      <p id="section-6.2.3-1.3.2.1.2.2.1">LOA or way to receive it<a href="#section-6.2.3-1.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                    <li class="normal" id="section-6.2.3-1.3.2.1.2.3">
                      <p id="section-6.2.3-1.3.2.1.2.3.1">Request ID<a href="#section-6.2.3-1.3.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                  </ul>
</li>
                <li class="normal" id="section-6.2.3-1.3.2.2">
                  <p id="section-6.2.3-1.3.2.2.1">300:<a href="#section-6.2.3-1.3.2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.3.2.2.2.1">
                      <p id="section-6.2.3-1.3.2.2.2.1.1">Proposed Modification: LAG struct, LOA, email address for further discussion<a href="#section-6.2.3-1.3.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  </ul>
</li>
                <li class="normal" id="section-6.2.3-1.3.2.3">
                  <p id="section-6.2.3-1.3.2.3.1">40x: rejections<a href="#section-6.2.3-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
            <li class="normal" id="section-6.2.3-1.4">
              <p id="section-6.2.3-1.4.1">REMOVE PNI<a href="#section-6.2.3-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2.3-1.4.2.1">
                  <p id="section-6.2.3-1.4.2.1.1">As ADD/AUGMENT in parameters.  Responses will include a requestID and status.<a href="#section-6.2.3-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="public-peering-session-negotiation">
<section id="section-7">
      <h2 id="name-public-peering-session-nego">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-public-peering-session-nego" class="section-name selfRef">Public Peering Session Negotiation</a>
      </h2>
<p id="section-7-1">As part of public peering configuration, this draft must consider how the client and server should handshake at which sessions to configure peering.
At first, a client will request sessions A, B, and C.
The server may choose to accept all sessions A, B, and C.
At this point, configuration proceeds as normal.
However, the server may choose to reject session B.
At that point, the server will reply back with A and C marked as "Accepted," and B as "Rejected."
The server will then configure A and C, and wait for the client to configure A and C.
If the client configured B as well, it will not come up.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">This draft encourages peers to set up garbage collection for unconfigured or down peering sessions, to remove stale configuration and maintain good router hygiene.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">Related to rejection, if the server would like to configure additional sessions with the client, the server may reply back with additional peering sessions D and E.
The server will configure D and E on their side, and D and E will become part of the sessions requested in the UUID.
The client may choose whether or not to accept those additional sessions.
If they do, the client should configure D and E as well.
If they do not, the client will not configure D and E, and the server should garbage-collect those pending sessions.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">As part of the IETF discussion, the authors would like to discuss how to coordinate which side unfilters first.
Perhaps this information could be conveyed over a preferences vector.<a href="#section-7-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="private-peering">
<section id="section-8">
      <h2 id="name-private-peering">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-private-peering" class="section-name selfRef">Private Peering</a>
      </h2>
<p id="section-8-1">Through future discussion with the IETF, the specification for private peering will be solidified.
Of interest for discussion includes Letter of Authorization (LOA) negotiation, and how to coordinate unfiltering and configuration checks.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="maintenance">
<section id="section-9">
      <h2 id="name-maintenance">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-maintenance" class="section-name selfRef">Maintenance</a>
      </h2>
<p id="section-9-1">This draft does not want to invent a new ticketing system.
However, there is an opportunity in this API to provide maintenance notifications to peering partners.
If there is interest, this draft would extend to propose a maintenance endpoint, where the server could broadcast upcoming and current maintenance windows.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">A maintenance message would follow a format like:<a href="#section-9-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9-3.1">
          <p id="section-9-3.1.1">Title: string<a href="#section-9-3.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-3.2">
          <p id="section-9-3.2.1">Start Date: date maintenance start(s/ed): UTC<a href="#section-9-3.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-3.3">
          <p id="section-9-3.3.1">End Date: date maintenance ends: UTC<a href="#section-9-3.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-3.4">
          <p id="section-9-3.4.1">Area: string or enum<a href="#section-9-3.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-9-3.5">
          <p id="section-9-3.5.1">Details: freeform string<a href="#section-9-3.5.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-9-4">The "Area" field could be a freeform string, or could be a parseable ENUM, like (BGP, PublicPeering, PrivatePeering, Configuration, Caching, DNS, etc).<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">Past maintenances will not be advertised.<a href="#section-9-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="possible-extensions">
<section id="section-10">
      <h2 id="name-possible-extensions">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-possible-extensions" class="section-name selfRef">Possible Extensions</a>
      </h2>
<p id="section-10-1">The authors acknowledge that route-server configuration may also be of interest for this proposed API, and look forward to future discussions in this area.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">This document has no IANA actions.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">This project is joint work between Meta, AWS, Cloudflare, FullCtl, and Google.
Many thanks to my collaborators: Carlos Aguado (AWS), Ben Blaustein (Meta), Matt Griswold (FullCtl), Ben Ryall (Meta), Arturo Servin (Google), and Tom Strickx (Cloudflare).<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jenny Ramseyer</span></div>
<div dir="auto" class="left"><span class="org">Meta</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ramseyer@meta.com" class="email">ramseyer@meta.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
